<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UnbelievaAuto v2</title>
    <style>
        :root { --bg: #000; --card: #080808; --uber-white: #fff; --uber-gray: #444; }
        * { box-sizing: border-box; font-family: "Uber Move", sans-serif; -webkit-font-smoothing: antialiased; }
        body { background: var(--bg); color: #fff; margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        .terminal { width: 440px; padding: 40px; background: var(--bg); border: 1px solid #111; }
        header { border-bottom: 2px solid #fff; padding-bottom: 15px; margin-bottom: 30px; display: flex; justify-content: space-between; align-items: baseline; }
        .v2-small { font-size: 10px; font-weight: 800; color: var(--uber-gray); text-transform: uppercase; letter-spacing: 2px; }
        .input-wrap { margin-bottom: 15px; }
        label { font-size: 10px; color: var(--uber-gray); font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 6px; display: block; }
        input { width: 100%; background: var(--card); border: 1px solid #1a1a1a; color: #fff; padding: 14px; font-size: 13px; outline: none; }
        input:focus { border-color: #fff; }
        .btn-launch { width: 100%; padding: 20px; background: #fff; color: #000; font-weight: 700; border: none; cursor: pointer; text-transform: uppercase; letter-spacing: 1.5px; margin-top: 10px; transition: 0.2s; }
        .btn-launch:hover { background: #ccc; }
        .dashboard { margin-top: 35px; border-top: 1px solid #111; padding-top: 20px; }
        .row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 12px; }
        .label-dim { color: var(--uber-gray); font-weight: 700; text-transform: uppercase; }
        .val-bright { font-family: monospace; font-weight: 700; }
        #log { font-size: 11px; color: #555; text-align: center; margin-top: 15px; font-family: monospace; }
    </style>
</head>
<body>

<div class="terminal">
    <header>
        <div style="font-size: 26px; font-weight: 500; letter-spacing: -1px;">UnbelievaAuto</div>
        <span class="v2-small">v2 // custom-id</span>
    </header>

    <div class="input-wrap">
        <label>Access Token</label>
        <input type="password" id="token" placeholder="Paste Token">
    </div>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
        <div class="input-wrap">
            <label>Channel ID</label>
            <input type="text" id="channelId" placeholder="Target Channel" value="1417962541702709258">
        </div>
        <div class="input-wrap">
            <label>Guild ID</label>
            <input type="text" id="guildId" placeholder="Server ID" value="1347804635989016617">
        </div>
    </div>

    <button class="btn-launch" onclick="startEngine()">Initiate Farm</button>

    <div class="dashboard">
        <div class="row"><span class="label-dim">System Status</span><span id="status" class="val-bright">IDLE</span></div>
        <div class="row"><span class="label-dim">Next Sequence</span><span id="timer" class="val-bright">-</span></div>
        <div class="row"><span class="label-dim">Cycles Completed</span><span id="cycles" class="val-bright">0</span></div>
        <div id="log">Awaiting target parameters...</div>
    </div>
</div>

<script>
    let active = false;
    let cycleCount = 0;

    // DATA MAP (Using your provided IDs/Versions)
    const COMMANDS = {
        appId: "292953664492929025",
        session: "43c7f2a6ccf5a143bfbb9196c456b071",
        work: { id: "901118136529588281", ver: "973314412968562777" },
        collect: { id: "901118136529588278", ver: "973314412968562774" },
        deposit: { id: "901118136529588275", ver: "973314412968562769" }
    };

    async function discordInteraction(token, guild, channel, cmdName, cmdData, options = []) {
        const payload = {
            type: 2,
            application_id: COMMANDS.appId,
            guild_id: guild,
            channel_id: channel,
            session_id: COMMANDS.session,
            data: {
                version: cmdData.ver,
                id: cmdData.id,
                name: cmdName,
                type: 1,
                options: options
            }
        };

        return fetch('https://discord.com/api/v9/interactions', {
            method: 'POST',
            headers: { 'Authorization': token, 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
        });
    }

    async function startEngine() {
        const token = document.getElementById('token').value;
        const gID = document.getElementById('guildId').value;
        const cID = document.getElementById('channelId').value;
        
        if(!token || !gID || !cID) return alert("Missing Parameters");

        active = true;
        document.getElementById('status').innerText = "RUNNING";

        while(active) {
            // SEQUENCE
            document.getElementById('log').innerText = "Running: /work";
            await discordInteraction(token, gID, cID, "work", COMMANDS.work);
            await new Promise(r => setTimeout(r, 2000));

            document.getElementById('log').innerText = "Running: /collect-income";
            await discordInteraction(token, gID, cID, "collect-income", COMMANDS.collect);
            await new Promise(r => setTimeout(r, 2000));

            document.getElementById('log').innerText = "Running: /deposit all";
            await discordInteraction(token, gID, cID, "deposit", COMMANDS.deposit, [{type: 3, name: "amount", value: "all"}]);

            cycleCount++;
            document.getElementById('cycles').innerText = cycleCount;

            // COOLDOWN (26s per request + tiny buffer)
            let nextRun = Date.now() + 26500;
            while(Date.now() < nextRun && active) {
                document.getElementById('log').innerText = "Idle - Waiting for cooldown";
                document.getElementById('timer').innerText = ((nextRun - Date.now()) / 1000).toFixed(1) + "s";
                await new Promise(r => setTimeout(r, 100));
            }
        }
    }
</script>
</body>
</html>
